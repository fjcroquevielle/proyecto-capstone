{"ast":null,"code":"var _jsxFileName = \"/Users/camilarendic/Desktop/Capstone/Repositorios/2021-2-S3-Grupo3-Web/src/components/ProjectList.js\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { closeAll, getProjects, getProjectsAssigned, getUsers, selectProject, setProjectModal } from \"../actions/\";\nimport { PARAMS, ROUTES, USER_TYPE } from \"../constants\";\nimport { Button } from \"./Button\";\nimport { ListItem } from \"./ListItem\";\nimport { NewProjectModal } from \"./modals\";\nimport \"./styles/List.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.UserReducer.currentUser,\n    projects: state.ProjectReducer.projects,\n    users: state.UserReducer.indexedUsers\n  };\n};\n\nclass ProjectList extends Component {\n  constructor(props) {\n    super(props);\n    this.renderContent = this.renderContent.bind(this);\n    this.SetProjectList = this.SetProjectList.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.renderOpenModalButton = this.renderOpenModalButton.bind(this);\n  }\n\n  componentDidMount() {\n    this.SetProjectList();\n  }\n\n  SetProjectList() {\n    if (this.props.targetUser) {\n      this.props.dispatch(getProjectsAssigned(this.props.targetUser.id));\n      return;\n    }\n\n    this.props.dispatch(getProjects());\n\n    if (Object.keys(this.props.users).length === 0) {\n      this.props.dispatch(getUsers());\n    }\n  }\n\n  openModal() {\n    this.props.dispatch(setProjectModal(true));\n  }\n\n  goToProject(projectIndex) {\n    this.props.dispatch(selectProject(projectIndex)).then(() => {\n      this.props.history.push(ROUTES.PROJECT_PAGE.replace(PARAMS.PROJECT_ID, this.props.projects[projectIndex].id));\n      this.props.dispatch(closeAll(true));\n    });\n  }\n\n  renderContent() {\n    var {\n      projects,\n      users\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-content\",\n      children: projects && projects.length > 0 && projects.map((project, index) => {\n        var _project$createdAt, _users$project$Mantai;\n\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          className: \"project\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-name\",\n              children: project.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-context\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" Created At: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 41\n                }, this), \" \", (_project$createdAt = project.createdAt) === null || _project$createdAt === void 0 ? void 0 : _project$createdAt.split('T')[0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" Admin:  \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 41\n                }, this), \" \", (_users$project$Mantai = users[project.MantainerId]) === null || _users$project$Mantai === void 0 ? void 0 : _users$project$Mantai.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-description\",\n              children: project.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"move-right\",\n            onClick: () => {\n              this.goToProject(index);\n            },\n            children: \"\\u25B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderOpenModalButton() {\n    // prevent the current user from opening this modal if the circunstances don't allow it\n    if (!this.props.currentUser || this.props.currentUser.orgUser.type !== USER_TYPE.ADMIN || this.props.targetUser) {\n      return;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Button, {\n      className: \"list-button move-right\",\n      onClick: this.openModal,\n      children: \"+ Add Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: this.props.targetUser ? `Projects Assigned to ${this.props.targetUser.username}` : \"Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"left-line\",\n          children: [\"Total Projects: \", this.props.projects.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), this.renderOpenModalButton()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), this.renderContent(), /*#__PURE__*/_jsxDEV(NewProjectModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst ConnectedProjectList = connect(mapStateToProps)(ProjectList);\nconst ProjectListWithRouter = withRouter(ConnectedProjectList);\n_c = ProjectListWithRouter;\nexport { ProjectListWithRouter as ProjectList };\n\nvar _c;\n\n$RefreshReg$(_c, \"ProjectListWithRouter\");","map":{"version":3,"sources":["/Users/camilarendic/Desktop/Capstone/Repositorios/2021-2-S3-Grupo3-Web/src/components/ProjectList.js"],"names":["Component","connect","withRouter","closeAll","getProjects","getProjectsAssigned","getUsers","selectProject","setProjectModal","PARAMS","ROUTES","USER_TYPE","Button","ListItem","NewProjectModal","mapStateToProps","state","currentUser","UserReducer","projects","ProjectReducer","users","indexedUsers","ProjectList","constructor","props","renderContent","bind","SetProjectList","openModal","renderOpenModalButton","componentDidMount","targetUser","dispatch","id","Object","keys","length","goToProject","projectIndex","then","history","push","PROJECT_PAGE","replace","PROJECT_ID","map","project","index","name","createdAt","split","MantainerId","username","description","orgUser","type","ADMIN","render","ConnectedProjectList","ProjectListWithRouter"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,mBAAhC,EAAqDC,QAArD,EAA+DC,aAA/D,EAA8EC,eAA9E,QAAqG,aAArG;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,SAAzB,QAA0C,cAA1C;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,eAAT,QAAgC,UAAhC;AACA,OAAO,mBAAP;;;AAEA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHC,IAAAA,WAAW,EAAED,KAAK,CAACE,WAAN,CAAkBD,WAD5B;AAEHE,IAAAA,QAAQ,EAAEH,KAAK,CAACI,cAAN,CAAqBD,QAF5B;AAGHE,IAAAA,KAAK,EAAEL,KAAK,CAACE,WAAN,CAAkBI;AAHtB,GAAP;AAKH,CAND;;AASA,MAAMC,WAAN,SAA0BvB,SAA1B,CAAmC;AAE/BwB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKG,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BH,IAA3B,CAAgC,IAAhC,CAA7B;AACH;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,cAAL;AACH;;AAEDA,EAAAA,cAAc,GAAG;AACb,QAAI,KAAKH,KAAL,CAAWO,UAAf,EAA2B;AACvB,WAAKP,KAAL,CAAWQ,QAAX,CAAoB5B,mBAAmB,CAAC,KAAKoB,KAAL,CAAWO,UAAX,CAAsBE,EAAvB,CAAvC;AACA;AACH;;AACD,SAAKT,KAAL,CAAWQ,QAAX,CAAoB7B,WAAW,EAA/B;;AACA,QAAI+B,MAAM,CAACC,IAAP,CAAY,KAAKX,KAAL,CAAWJ,KAAvB,EAA8BgB,MAA9B,KAAyC,CAA7C,EAAgD;AAC5C,WAAKZ,KAAL,CAAWQ,QAAX,CAAoB3B,QAAQ,EAA5B;AACH;AACJ;;AAEDuB,EAAAA,SAAS,GAAG;AACR,SAAKJ,KAAL,CAAWQ,QAAX,CAAoBzB,eAAe,CAAC,IAAD,CAAnC;AACH;;AAED8B,EAAAA,WAAW,CAACC,YAAD,EAAe;AACtB,SAAKd,KAAL,CAAWQ,QAAX,CAAoB1B,aAAa,CAACgC,YAAD,CAAjC,EAAiDC,IAAjD,CAAsD,MAAI;AACtD,WAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwBhC,MAAM,CAACiC,YAAP,CAAoBC,OAApB,CAA4BnC,MAAM,CAACoC,UAAnC,EAA+C,KAAKpB,KAAL,CAAWN,QAAX,CAAoBoB,YAApB,EAAkCL,EAAjF,CAAxB;AACA,WAAKT,KAAL,CAAWQ,QAAX,CAAoB9B,QAAQ,CAAC,IAAD,CAA5B;AACH,KAHD;AAIH;;AAEDuB,EAAAA,aAAa,GAAG;AACZ,QAAI;AAAEP,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,QAAsB,KAAKI,KAA/B;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,gBAEQN,QAAQ,IACRA,QAAQ,CAACkB,MAAT,GAAkB,CADlB,IAEAlB,QAAQ,CAAC2B,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV;AAAA;;AAAA,4BACT,QAAC,QAAD;AAAsB,UAAA,SAAS,EAAC,SAAhC;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,wBACKD,OAAO,CAACE;AADb;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,sCACI;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,6BAC0BF,OAAO,CAACG,SADlC,uDAC0B,mBAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAD1B;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,uBAKI;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,gCACsB9B,KAAK,CAAC0B,OAAO,CAACK,WAAT,CAD3B,0DACsB,sBAA4BC,QADlD;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAaI;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAA,wBACKN,OAAO,CAACO;AADb;AAAA;AAAA;AAAA;AAAA,oBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAuBI,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAC,YAAlB;AAA+B,YAAA,OAAO,EAAE,MAAI;AAAC,mBAAKhB,WAAL,CAAiBU,KAAjB;AAAwB,aAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvBJ;AAAA,WAAeA,KAAf;AAAA;AAAA;AAAA;AAAA,gBADS;AAAA,OAAb;AAJR;AAAA;AAAA;AAAA;AAAA,YADJ;AAsCH;;AAEDlB,EAAAA,qBAAqB,GAAG;AACpB;AACA,QAAI,CAAC,KAAKL,KAAL,CAAWR,WAAZ,IAA2B,KAAKQ,KAAL,CAAWR,WAAX,CAAuBsC,OAAvB,CAA+BC,IAA/B,KAAwC7C,SAAS,CAAC8C,KAA7E,IAAsF,KAAKhC,KAAL,CAAWO,UAArG,EAAiH;AAC7G;AACH;;AACD,wBACI,QAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,KAAKH,SAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAED6B,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAA,oBACK,KAAKjC,KAAL,CAAWO,UAAX,GAAwB,wBAAuB,KAAKP,KAAL,CAAWO,UAAX,CAAsBqB,QAAS,EAA9E,GAAiF;AADtF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAM,UAAA,SAAS,EAAC,WAAhB;AAAA,yCACqB,KAAK5B,KAAL,CAAWN,QAAX,CAAoBkB,MADzC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,EAOK,KAAKP,qBAAL,EAPL;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAUK,KAAKJ,aAAL,EAVL,eAWI,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AA3G8B;;AA8GnC,MAAMiC,oBAAoB,GAAG1D,OAAO,CAACc,eAAD,CAAP,CAAyBQ,WAAzB,CAA7B;AAEA,MAAMqC,qBAAqB,GAAG1D,UAAU,CAACyD,oBAAD,CAAxC;KAAMC,qB;AAEN,SAAQA,qBAAqB,IAAIrC,WAAjC","sourcesContent":["import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { closeAll, getProjects, getProjectsAssigned, getUsers, selectProject, setProjectModal } from \"../actions/\";\nimport { PARAMS, ROUTES, USER_TYPE } from \"../constants\";\nimport { Button } from \"./Button\";\nimport { ListItem } from \"./ListItem\";\nimport { NewProjectModal } from \"./modals\";\nimport \"./styles/List.css\";\n\nconst mapStateToProps = state => {\n    return { \n        currentUser: state.UserReducer.currentUser, \n        projects: state.ProjectReducer.projects,\n        users: state.UserReducer.indexedUsers\n    };\n};\n  \n\nclass ProjectList extends Component{\n\n    constructor(props) {\n        super(props);\n        \n        this.renderContent = this.renderContent.bind(this);\n        this.SetProjectList = this.SetProjectList.bind(this);\n        this.openModal = this.openModal.bind(this);\n        this.renderOpenModalButton = this.renderOpenModalButton.bind(this);\n    }\n    \n    componentDidMount() {\n        this.SetProjectList()\n    }\n    \n    SetProjectList() {\n        if (this.props.targetUser) {\n            this.props.dispatch(getProjectsAssigned(this.props.targetUser.id));\n            return;\n        }\n        this.props.dispatch(getProjects());\n        if (Object.keys(this.props.users).length === 0) {\n            this.props.dispatch(getUsers());\n        }\n    }\n\n    openModal() {\n        this.props.dispatch(setProjectModal(true));\n    }\n\n    goToProject(projectIndex) {\n        this.props.dispatch(selectProject(projectIndex)).then(()=>{\n            this.props.history.push(ROUTES.PROJECT_PAGE.replace(PARAMS.PROJECT_ID, this.props.projects[projectIndex].id));\n            this.props.dispatch(closeAll(true));\n        });\n    }\n\n    renderContent() {\n        var { projects, users } = this.props;\n        return(\n            <div className=\"list-content\">\n                {\n                    projects &&\n                    projects.length > 0 &&\n                    projects.map((project, index) => (\n                        <ListItem key={index} className='project' >\n                            <div className='project-logo'>\n\n                            </div>\n                            <div className='project-data'>\n                                <div className='project-name'>\n                                    {project.name}\n                                </div>\n                                <div className='project-context'>\n                                    <span>\n                                        <b> Created At: </b> {project.createdAt?.split('T')[0]}\n                                    </span>\n                                    &nbsp;\n                                    <span>\n                                        <b> Admin:  </b> {users[project.MantainerId]?.username}\n                                    </span>\n                                </div>\n                                <div className='project-description'>\n                                    {project.description}\n\n                                </div>\n\n                            </div>\n                            <Button className='move-right' onClick={()=>{this.goToProject(index)}}>\n                                ▶\n                            </Button>\n                        </ListItem>\n                        )\n                    )\n                }\n            </div>\n        )\n    }\n\n    renderOpenModalButton() {\n        // prevent the current user from opening this modal if the circunstances don't allow it\n        if (!this.props.currentUser || this.props.currentUser.orgUser.type !== USER_TYPE.ADMIN || this.props.targetUser) {\n            return;\n        }\n        return(\n            <Button className='list-button move-right' onClick={this.openModal}>\n                + Add Project\n            </Button>\n        )\n    }\n    \n    render(){\n        return(\n            <div className='list-container'>\n                <div className=\"list-header\">\n                    <h3>\n                        {this.props.targetUser? `Projects Assigned to ${this.props.targetUser.username}`: \"Projects\"}\n                    </h3>\n                    <span className='left-line'>\n                        Total Projects: {this.props.projects.length}\n                    </span>\n                    {this.renderOpenModalButton()}\n                </div>\n                {this.renderContent()}\n                <NewProjectModal/>\n            </div>\n        )\n    }\n}\n\nconst ConnectedProjectList = connect(mapStateToProps)(ProjectList);\n\nconst ProjectListWithRouter = withRouter(ConnectedProjectList);\n\nexport {ProjectListWithRouter as ProjectList};"]},"metadata":{},"sourceType":"module"}